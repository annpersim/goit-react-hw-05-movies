{"version":3,"file":"static/js/650.b24601a7.chunk.js","mappings":"yQAGaA,GAAaC,E,OAAAA,GAAOC,EAAAA,GAAPD,CAAH,oF,SC4EvB,EA1EqB,WAAO,IAAD,IACjBE,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAEhD,GAAkEC,EAAAA,EAAAA,UAAS,CACzEC,MAAO,GACPC,IAAK,GACLC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,OAAQ,KANV,sBAASL,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,IAAKC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,MAAOC,EAAlC,EAAkCA,SAAUC,EAA5C,EAA4CA,OAAUC,EAAtD,KA0BA,OAjBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,qGACyBC,EAAAA,EAAAA,IAAkBjB,GAD3C,OACQkB,EADR,OAEEH,EAAS,CACPN,MAAOS,EAAST,MAChBC,IAAI,mCAAD,OAAqCQ,EAASC,aACjDR,KAAMO,EAASE,aAAaC,MAAM,EAAG,GACrCT,MAAM,GAAD,OAAKU,KAAKC,MAA8B,GAAxBL,EAASM,cAAzB,KACLX,SAAUK,EAASL,SACnBC,OAAQI,EAASJ,OAAOW,KAAI,SAAAC,GAC1B,OAAOA,EAAMC,IACd,MAVL,4CADc,uBAAC,WAAD,wBAcdC,EACD,GAAE,CAAC5B,KAGF,iCACE,SAAC,KAAD,CAAM6B,GAAIzB,EAAS0B,QAASC,MAAO,CAAEC,OAAQ,UAA7C,sBAGA,iBACED,MAAO,CACLE,QAAS,QAFb,WAKE,gBACEF,MAAO,CAAEC,OAAQ,UACjBE,IAAG,UAAKxB,GACRyB,IAAG,UAAK1B,EAAL,cAEL,4BACE,oCAAQA,EAAR,aAAkBE,EAAlB,aACA,wCAAgBC,MAChB,sCACA,uBAAIC,KACJ,oCACA,uBAAIC,EAAOsB,KAAK,eAGpB,mBACA,4BACE,cAAGL,MAAO,CAAEC,OAAQ,UAApB,qCACA,2BACE,yBACE,SAACnC,EAAD,CAAYgC,GAAG,OAAf,qBAEF,yBACE,SAAChC,EAAD,CAAYgC,GAAG,UAAf,8BAIN,SAAC,EAAAQ,SAAD,CAAUC,UAAU,qCAApB,UACE,SAAC,KAAD,QAIP,C,8LCxEDC,EAAAA,EAAAA,SAAAA,QAFiB,gCAGjBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QALU,mCAMVC,SAAU,QACVC,eAAe,GAGV,IAAMC,EAAc,mCAAG,0FACX,qBADW,SAELJ,EAAAA,EAAAA,IADN,sBADW,cAEtBK,EAFsB,yBAGrBA,EAASC,MAHY,2CAAH,qDAMdC,EAAe,mCAAG,WAAMC,GAAN,+EACZ,eACXC,EAAS,CACbC,OAAQ,CAAEF,MAAOA,IAHU,SAKNR,EAAAA,EAAAA,IAJN,eAI0BS,GALd,cAKvBJ,EALuB,yBAMtBA,EAASC,MANa,2CAAH,sDASf5B,EAAiB,mCAAG,WAAMjB,GAAN,gFACzBkD,EADyB,gBACLlD,GADK,SAERuC,EAAAA,EAAAA,IAAUW,GAFF,cAEzBN,EAFyB,yBAGxBA,EAASC,MAHe,2CAAH,sDAMjBM,EAAS,mCAAG,WAAMnD,GAAN,gFACjBkD,EADiB,gBACGlD,EADH,qBAEAuC,EAAAA,EAAAA,IAAUW,GAFV,cAEjBN,EAFiB,yBAGhBA,EAASC,MAHO,2CAAH,sDAMTO,EAAY,mCAAG,WAAMpD,GAAN,gFACpBkD,EADoB,gBACAlD,EADA,qBAEHuC,EAAAA,EAAAA,IAAUW,GAFP,cAEpBN,EAFoB,yBAGnBA,EAASC,MAHU,2CAAH,qD","sources":["components/MovieDetails/MoviesDetails.styled.jsx","components/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const StyledLink = styled(Link)`\n  color: #222222;\n  &:focus {\n    color: orangered;\n  }\n`;\n","import { useParams, useLocation, Outlet, Link } from 'react-router-dom';\nimport { useRef, useState, useEffect, Suspense } from 'react';\nimport { fetchMovieDetails } from 'services/api';\nimport { StyledLink } from './MoviesDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLink = useRef(location.state?.from ?? '/movies');\n\n  const [{ title, img, year, score, overview, genres }, setState] = useState({\n    title: '',\n    img: '',\n    year: '',\n    score: '',\n    overview: '',\n    genres: [],\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      const responce = await fetchMovieDetails(movieId);\n      setState({\n        title: responce.title,\n        img: `https://image.tmdb.org/t/p/w300/${responce.poster_path}`,\n        year: responce.release_date.slice(0, 4),\n        score: `${Math.round(responce.vote_average * 10)}%`,\n        overview: responce.overview,\n        genres: responce.genres.map(genre => {\n          return genre.name;\n        }),\n      });\n    }\n    fetchData();\n  }, [movieId]);\n\n  return (\n    <>\n      <Link to={backLink.current} style={{ margin: '0 10px' }}>\n        Go Back\n      </Link>\n      <div\n        style={{\n          display: 'flex',\n        }}\n      >\n        <img\n          style={{ margin: '0 10px' }}\n          src={`${img}`}\n          alt={`${title} poster`}\n        />\n        <div>\n          <h2>{`${title} (${year})`} </h2>\n          <p>User Score: {score}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genres.join(', ')}</p>\n        </div>\n      </div>\n      <hr />\n      <div>\n        <p style={{ margin: '0 10px' }}>Additional information</p>\n        <ul>\n          <li>\n            <StyledLink to=\"cast\">Cast</StyledLink>\n          </li>\n          <li>\n            <StyledLink to=\"reviews\">Reviews</StyledLink>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<div>Loading</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst KEY = 'cfc471f0d2271b2468bfd9fc97d9b914';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: KEY,\n  language: 'en-US',\n  include_adult: false,\n};\n\nexport const fetchTrendings = async () => {\n  const endPoint = 'trending/movie/day';\n  const response = await axios.get(endPoint);\n  return response.data;\n};\n\nexport const fetchSerchQuery = async query => {\n  const endPoint = 'search/movie';\n  const config = {\n    params: { query: query },\n  };\n  const response = await axios.get(endPoint, config);\n  return response.data;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const endPoint = `movie/${movieId}`;\n  const response = await axios.get(endPoint);\n  return response.data;\n};\n\nexport const fetchCast = async movieId => {\n  const endPoint = `movie/${movieId}/credits`;\n  const response = await axios.get(endPoint);\n  return response.data;\n};\n\nexport const fetchReviews = async movieId => {\n  const endPoint = `movie/${movieId}/reviews`;\n  const response = await axios.get(endPoint);\n  return response.data;\n};\n"],"names":["StyledLink","styled","Link","movieId","useParams","location","useLocation","backLink","useRef","state","from","useState","title","img","year","score","overview","genres","setState","useEffect","fetchMovieDetails","responce","poster_path","release_date","slice","Math","round","vote_average","map","genre","name","fetchData","to","current","style","margin","display","src","alt","join","Suspense","fallback","axios","api_key","language","include_adult","fetchTrendings","response","data","fetchSerchQuery","query","config","params","endPoint","fetchCast","fetchReviews"],"sourceRoot":""}